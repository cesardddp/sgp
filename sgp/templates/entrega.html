{% extends 'layout.html' %}
{% block link_rel %}
<link rel="stylesheet" href="{{url_for('static',filename='entrega.css')}}">
<link rel="stylesheet" href="../static/entrega.css">

{% endblock link_rel %}
{% block style %}
<style>


</style>
{% endblock  %}

{% block main %}
<main class="">
	
	<div class="menu-buttons">
		<img src="{{ url_for('static',filename='imgs/quadro.png')}}" alt="" class="" srcset="">
	</div>
	
	<p class="">AMARELO SÃO PROJETOS QUE ESTÃO FICANDO ATRASADOS</p>
	<div id="app">
		<table class="">
			<tbody>
					<th>Nomes</td>
					<th>Projetos</td>
					<th>f</td>
					<th>f</td>
					<th>f</td>
				
				<tr
					is="vue:projeto-row"
					v-for="projeto in projetos"
					:key="projeto.id"
					:projeto="projeto"
					@click="detalhes(projeto.id)"
				></tr>

			</tbody>
		</table>



	</div>
	
	<script src="https://unpkg.com/vue@next"></script>
	<script src="https://cdn.jsdelivr.net/npm/axios@0.12.0/dist/axios.min.js"></script>
	<script type="text/x-template" id="projeto-row">
		<tr class="space-y-6" >
			<th class=" rounded-full bg-white  px-4 py-2 text-sm text-black " :class="colorStatus">@{projeto.cliente.nome}</th>
			<td class=" rounded-full bg-white  px-4 py-2 text-sm text-black" :class="colorStatus">
				<span v-for="amb in projeto.ambientes" :key="amb.id">
				@{amb.nome}, </span>
			</td>
			<td class="rounded-full bg-white  px-4 py-2 text-sm text-black" :class="colorStatus" >@{projeto.fotos}</td>
			<td class="rounded-full bg-white  px-4 py-2 text-sm text-black" :class="colorStatus" >
				<a v-for='arq in projeto.arquivos' :href='arq.url'>@{arq.nome} - </a>	
			</td>
			<td class="rounded-full bg-white  px-4 py-2 text-sm text-black" :class="colorStatus" >@{projeto.pdf}</td>
		</tr>
	</script>
	<script>
		const urlIndex="{{ url_for('index') }}";
		const urlGetProjetos="{{ url_for('projeto_bp.get_projetos') }}";
	</script>
	<script src="{{ url_for('static' , filename='js/entrega.js') }}"></script>

</main>
{% endblock main %}
<script>
	a = {
		ambientes: [{
				id: 1,
				nome: "sala",
				projeto_id: 1
			},
			{
				id: 2,
				nome: "teto",
				projeto_id: 1
			}
		],
		aprovacao: false,
		arquivos: null,
		cliente: {
			endereco: "longe 1",
			id: 1,
			nome: "nome 1",
			telefone: "19929 92929 1"
		},
		cliente_id: 1,
		data_apresentacao: "2021-09-01T18:12:12",
		data_entrada: "2021-09-01T09:19:09",
		data_medicao: "2021-09-01T18:12:12",
		fotos: null,
		id: 1,
		orcamento: null,
		pagamento: null,
		usuario_id: 1
	}
</script>